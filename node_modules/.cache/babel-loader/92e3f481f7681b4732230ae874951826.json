{"ast":null,"code":"import _slicedToArray from\"C:/Users/wnakswl/Downloads/code-mbti-master/Project_mbtiFeliz-main/Project_mbtiFeliz-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{createRef,useEffect,useState}from'react';import styles from'./option.module.css';import{useHistory}from'react-router-dom';import Questions from'../../common/api/questionsApi/../questionsApi';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Options=function Options(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var TOTAL_SLIDES=12;var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),num=_useState4[0],setNum=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),currentSlide=_useState6[0],setCurrentSlide=_useState6[1];var slideRef=/*#__PURE__*/createRef(null);var history=useHistory();var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),mbti=_useState8[0],setMbti=_useState8[1];var nextSlideFir=function nextSlideFir(){setMbti(mbti+Questions[num].answers[0].type);setNum(num+1);setCurrentSlide(currentSlide+1);slideRef.current.style.transform+='translateX(-100vw)';};var nextSlideSec=function nextSlideSec(){setMbti(mbti+Questions[num].answers[1].type);setNum(num+1);setCurrentSlide(currentSlide+1);slideRef.current.style.transform+='translateX(-100vw)';};var mbtiChecker=function mbtiChecker(){setLoading(true);var map={};var result=[];for(var i=0;i<mbti.length;i++){if(mbti[i]in map){map[mbti[i]]+=1;}else{map[mbti[i]]=1;}}for(var count in map){if(map[count]>=2){result.push(count);}}setTimeout(function(){var examResult=result.join('');history.push(\"/result/\".concat(examResult));},3000);};useEffect(function(){currentSlide>TOTAL_SLIDES&&mbtiChecker();});return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"section\",{className:styles.container,children:[!loading&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:styles.slider,ref:slideRef,children:Questions.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{className:styles.content,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.top,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.mbti__counter,children:[/*#__PURE__*/_jsx(\"span\",{className:styles.mbti__progress__color,children:currentSlide}),' ',/*#__PURE__*/_jsxs(\"span\",{className:styles.mbti__end__color,children:[\"/\",TOTAL_SLIDES]})]}),/*#__PURE__*/_jsx(\"h1\",{className:styles.mbti__question,children:item.question})]}),/*#__PURE__*/_jsxs(\"article\",{className:styles.mbti__btn__box,children:[/*#__PURE__*/_jsx(\"button\",{className:styles.mbti__button,onClick:nextSlideFir,children:item.answers[0].content}),/*#__PURE__*/_jsx(\"button\",{className:styles.mbti__button,onClick:nextSlideSec,children:item.answers[1].content})]})]},item.id);})})}),loading&&/*#__PURE__*/_jsxs(\"div\",{className:styles.loading__container,children:[/*#__PURE__*/_jsx(\"img\",{className:styles.ticket,src:\"img/flying.png\",alt:\"e-ticket\"}),/*#__PURE__*/_jsx(\"div\",{className:styles.loading})]})]})});};export default Options;","map":{"version":3,"sources":["C:/Users/wnakswl/Downloads/code-mbti-master/Project_mbtiFeliz-main/Project_mbtiFeliz-main/src/components/options/option.jsx"],"names":["React","createRef","useEffect","useState","styles","useHistory","Questions","Options","loading","setLoading","TOTAL_SLIDES","num","setNum","currentSlide","setCurrentSlide","slideRef","history","mbti","setMbti","nextSlideFir","answers","type","current","style","transform","nextSlideSec","mbtiChecker","map","result","i","length","count","push","setTimeout","examResult","join","container","slider","item","content","top","mbti__counter","mbti__progress__color","mbti__end__color","mbti__question","question","mbti__btn__box","mbti__button","id","loading__container","ticket"],"mappings":"gNAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,SAA3B,CAAsCC,QAAtC,KAAsD,OAAtD,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,SAAP,KAAsB,+CAAtB,C,6IAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,eACSJ,QAAQ,CAAC,KAAD,CADjB,wCACdK,OADc,eACLC,UADK,eAErB,GAAMC,CAAAA,YAAY,CAAG,EAArB,CAFqB,eAGCP,QAAQ,CAAC,CAAD,CAHT,yCAGdQ,GAHc,eAGTC,MAHS,8BAImBT,QAAQ,CAAC,CAAD,CAJ3B,yCAIdU,YAJc,eAIAC,eAJA,eAKrB,GAAMC,CAAAA,QAAQ,cAAGd,SAAS,CAAC,IAAD,CAA1B,CACA,GAAMe,CAAAA,OAAO,CAAGX,UAAU,EAA1B,CANqB,eAOGF,QAAQ,CAAC,EAAD,CAPX,yCAOdc,IAPc,eAORC,OAPQ,eASrB,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CAC1BD,OAAO,CAACD,IAAI,CAAGX,SAAS,CAACK,GAAD,CAAT,CAAeS,OAAf,CAAuB,CAAvB,EAA0BC,IAAlC,CAAP,CACAT,MAAM,CAACD,GAAG,CAAG,CAAP,CAAN,CACAG,eAAe,CAACD,YAAY,CAAG,CAAhB,CAAf,CACAE,QAAQ,CAACO,OAAT,CAAiBC,KAAjB,CAAuBC,SAAvB,EAAoC,oBAApC,CACA,CALD,CAMA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CAC1BP,OAAO,CAACD,IAAI,CAAGX,SAAS,CAACK,GAAD,CAAT,CAAeS,OAAf,CAAuB,CAAvB,EAA0BC,IAAlC,CAAP,CACAT,MAAM,CAACD,GAAG,CAAG,CAAP,CAAN,CACAG,eAAe,CAACD,YAAY,CAAG,CAAhB,CAAf,CACAE,QAAQ,CAACO,OAAT,CAAiBC,KAAjB,CAAuBC,SAAvB,EAAoC,oBAApC,CACA,CALD,CAOA,GAAME,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACzBjB,UAAU,CAAC,IAAD,CAAV,CACA,GAAIkB,CAAAA,GAAG,CAAG,EAAV,CACA,GAAIC,CAAAA,MAAM,CAAG,EAAb,CACA,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGZ,IAAI,CAACa,MAAzB,CAAiCD,CAAC,EAAlC,CAAsC,CACrC,GAAIZ,IAAI,CAACY,CAAD,CAAJ,EAAWF,CAAAA,GAAf,CAAoB,CACnBA,GAAG,CAACV,IAAI,CAACY,CAAD,CAAL,CAAH,EAAgB,CAAhB,CACA,CAFD,IAEO,CACNF,GAAG,CAACV,IAAI,CAACY,CAAD,CAAL,CAAH,CAAe,CAAf,CACA,CACD,CACD,IAAK,GAAIE,CAAAA,KAAT,GAAkBJ,CAAAA,GAAlB,CAAuB,CACtB,GAAIA,GAAG,CAACI,KAAD,CAAH,EAAc,CAAlB,CAAqB,CACpBH,MAAM,CAACI,IAAP,CAAYD,KAAZ,EACA,CACD,CAEDE,UAAU,CAAC,UAAM,CAChB,GAAMC,CAAAA,UAAU,CAAGN,MAAM,CAACO,IAAP,CAAY,EAAZ,CAAnB,CACAnB,OAAO,CAACgB,IAAR,mBAAwBE,UAAxB,GACA,CAHS,CAGP,IAHO,CAAV,CAIA,CArBD,CAsBAhC,SAAS,CAAC,UAAM,CACfW,YAAY,CAAGH,YAAf,EAA+BgB,WAAW,EAA1C,CACA,CAFQ,CAAT,CAIA,mBACC,sCACC,iBAAS,SAAS,CAAEtB,MAAM,CAACgC,SAA3B,WACE,CAAC5B,OAAD,eACA,sCACC,YAAK,SAAS,CAAEJ,MAAM,CAACiC,MAAvB,CAA+B,GAAG,CAAEtB,QAApC,UACET,SAAS,CAACqB,GAAV,CAAc,SAAAW,IAAI,CAAI,CACtB,mBACC,aAAK,SAAS,CAAElC,MAAM,CAACmC,OAAvB,wBACC,aAAK,SAAS,CAAEnC,MAAM,CAACoC,GAAvB,wBACC,aAAK,SAAS,CAAEpC,MAAM,CAACqC,aAAvB,wBACC,aAAM,SAAS,CAAErC,MAAM,CAACsC,qBAAxB,UACE7B,YADF,EADD,CAGS,GAHT,cAIC,cAAM,SAAS,CAAET,MAAM,CAACuC,gBAAxB,eACGjC,YADH,GAJD,GADD,cASC,WAAI,SAAS,CAAEN,MAAM,CAACwC,cAAtB,UAAuCN,IAAI,CAACO,QAA5C,EATD,GADD,cAYC,iBAAS,SAAS,CAAEzC,MAAM,CAAC0C,cAA3B,wBACC,eACC,SAAS,CAAE1C,MAAM,CAAC2C,YADnB,CAEC,OAAO,CAAE5B,YAFV,UAIEmB,IAAI,CAAClB,OAAL,CAAa,CAAb,EAAgBmB,OAJlB,EADD,cAOC,eACC,SAAS,CAAEnC,MAAM,CAAC2C,YADnB,CAEC,OAAO,CAAEtB,YAFV,UAIEa,IAAI,CAAClB,OAAL,CAAa,CAAb,EAAgBmB,OAJlB,EAPD,GAZD,GAAqCD,IAAI,CAACU,EAA1C,CADD,CA6BA,CA9BA,CADF,EADD,EAFF,CAsCExC,OAAO,eACP,aAAK,SAAS,CAAEJ,MAAM,CAAC6C,kBAAvB,wBACC,YACC,SAAS,CAAE7C,MAAM,CAAC8C,MADnB,CAEC,GAAG,CAAC,gBAFL,CAGC,GAAG,CAAC,UAHL,EADD,cAMC,YAAK,SAAS,CAAE9C,MAAM,CAACI,OAAvB,EAND,GAvCF,GADD,EADD,CAqDA,CArGD,CAuGA,cAAeD,CAAAA,OAAf","sourcesContent":["import React, { createRef, useEffect, useState } from 'react'\nimport styles from './option.module.css'\nimport { useHistory } from 'react-router-dom'\nimport Questions from '../../common/api/questionsApi/../questionsApi'\n\nconst Options = () => {\n\tconst [loading, setLoading] = useState(false)\n\tconst TOTAL_SLIDES = 12\n\tconst [num, setNum] = useState(0)\n\tconst [currentSlide, setCurrentSlide] = useState(1)\n\tconst slideRef = createRef(null)\n\tconst history = useHistory()\n\tconst [mbti, setMbti] = useState([])\n\n\tconst nextSlideFir = () => {\n\t\tsetMbti(mbti + Questions[num].answers[0].type)\n\t\tsetNum(num + 1)\n\t\tsetCurrentSlide(currentSlide + 1)\n\t\tslideRef.current.style.transform += 'translateX(-100vw)'\n\t}\n\tconst nextSlideSec = () => {\n\t\tsetMbti(mbti + Questions[num].answers[1].type)\n\t\tsetNum(num + 1)\n\t\tsetCurrentSlide(currentSlide + 1)\n\t\tslideRef.current.style.transform += 'translateX(-100vw)'\n\t}\n\n\tconst mbtiChecker = () => {\n\t\tsetLoading(true)\n\t\tlet map = {}\n\t\tlet result = []\n\t\tfor (let i = 0; i < mbti.length; i++) {\n\t\t\tif (mbti[i] in map) {\n\t\t\t\tmap[mbti[i]] += 1\n\t\t\t} else {\n\t\t\t\tmap[mbti[i]] = 1\n\t\t\t}\n\t\t}\n\t\tfor (let count in map) {\n\t\t\tif (map[count] >= 2) {\n\t\t\t\tresult.push(count)\n\t\t\t}\n\t\t}\n\n\t\tsetTimeout(() => {\n\t\t\tconst examResult = result.join('')\n\t\t\thistory.push(`/result/${examResult}`)\n\t\t}, 3000)\n\t}\n\tuseEffect(() => {\n\t\tcurrentSlide > TOTAL_SLIDES && mbtiChecker()\n\t})\n\n\treturn (\n\t\t<>\n\t\t\t<section className={styles.container}>\n\t\t\t\t{!loading && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<div className={styles.slider} ref={slideRef}>\n\t\t\t\t\t\t\t{Questions.map(item => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<div className={styles.content} key={item.id}>\n\t\t\t\t\t\t\t\t\t\t<div className={styles.top}>\n\t\t\t\t\t\t\t\t\t\t\t<div className={styles.mbti__counter}>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className={styles.mbti__progress__color}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{currentSlide}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t<span className={styles.mbti__end__color}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t/{TOTAL_SLIDES}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<h1 className={styles.mbti__question}>{item.question}</h1>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<article className={styles.mbti__btn__box}>\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={styles.mbti__button}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={nextSlideFir}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{item.answers[0].content}\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={styles.mbti__button}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={nextSlideSec}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{item.answers[1].content}\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</article>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{loading && (\n\t\t\t\t\t<div className={styles.loading__container}>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tclassName={styles.ticket}\n\t\t\t\t\t\t\tsrc=\"img/flying.png\"\n\t\t\t\t\t\t\talt=\"e-ticket\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div className={styles.loading}></div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</section>\n\t\t</>\n\t)\n}\n\nexport default Options\n"]},"metadata":{},"sourceType":"module"}